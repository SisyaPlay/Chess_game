if (y - square_size >= 0) {
                        if (board[selectedFigure.getRow() - 1][selectedFigure.getCol()] == null ||
                                board[selectedFigure.getRow() - 1][selectedFigure.getCol()].getColor() != selectedFigure.getColor()) {
                                g2.drawRect(x, y - square_size, square_size, square_size);
                                if (x - square_size >= 0) {
                                        if (board[selectedFigure.getRow() - 1][selectedFigure.getCol() - 1] == null ||
                                                board[selectedFigure.getRow() - 1][selectedFigure.getCol() - 1].getColor() != selectedFigure.getColor()) {
                                                g2.drawRect(x - square_size, y - square_size, square_size, square_size);
                                        }
                                }
                                if (x + square_size < ROW_COUNT * square_size) {
                                        if (board[selectedFigure.getRow() - 1][selectedFigure.getCol() + 1] == null ||
                                                board[selectedFigure.getRow() - 1][selectedFigure.getCol() + 1].getColor() != selectedFigure.getColor()) {
                                                g2.drawRect(x + square_size, y - square_size, square_size, square_size);
                                        }
                                }
                        }
                }

                if (y + square_size < ROW_COUNT * square_size) {
                        if (board[selectedFigure.getRow() + 1][selectedFigure.getCol()] == null ||
                                board[selectedFigure.getRow() + 1][selectedFigure.getCol()].getColor() != selectedFigure.getColor()) {
                                g2.drawRect(x, y + square_size, square_size, square_size);
                                if (x - square_size >= 0) {
                                        if (board[selectedFigure.getRow() + 1][selectedFigure.getCol() - 1] == null ||
                                                board[selectedFigure.getRow() + 1][selectedFigure.getCol() - 1].getColor() != selectedFigure.getColor()) {
                                                g2.drawRect(x - square_size, y + square_size, square_size, square_size);
                                        }
                                }
                                if (x + square_size < ROW_COUNT * square_size) {
                                        if (board[selectedFigure.getRow() + 1][selectedFigure.getCol() + 1] == null ||
                                                board[selectedFigure.getRow() + 1][selectedFigure.getCol() + 1].getColor() != selectedFigure.getColor()) {
                                                g2.drawRect(x + square_size, y + square_size, square_size, square_size);
                                        }
                                }
                        }
                }

                if (x - square_size >= 0) {
                        if (board[selectedFigure.getRow()][selectedFigure.getCol() - 1] == null ||
                                board[selectedFigure.getRow()][selectedFigure.getCol() - 1].getColor() != selectedFigure.getColor()) {
                                g2.drawRect(x - square_size, y, square_size, square_size);
                        }
                }
                if (x + square_size < ROW_COUNT * square_size) {
                        if (board[selectedFigure.getRow()][selectedFigure.getCol() + 1] == null ||
                                board[selectedFigure.getRow()][selectedFigure.getCol() + 1].getColor() != selectedFigure.getColor()) {
                                g2.drawRect(x + square_size, y, square_size, square_size);
                        }
                }